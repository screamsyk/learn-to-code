# 哈希算法

在之前学习的 [散列表](11-散列表.md) 中，散列函数就是一种哈希算法。

> `hash` 翻译为 `散列`，音译为 `哈希`，所以无论叫 `散列`、`hash` 或 `哈希` 都是一个意思。

我们知道数据在计算机中，最终都是用二进制的方式表示的。

将任意长度的二进制值串映射为固定长度的二进制值串，即 `哈希值`，而这个映射规则就是 `哈希算法`。

`哈希值` 是二进制值串，通常用十六进制来表示，如 `b5dbd2c8c3e080e34db9053a36b2b2d3`。

## 一、哈希算法的要求

要设计出一个优秀的哈希算法，必须满足下列条件：

1. `无法逆运算`。即不能从哈希值推算出原始值。
2. `数据敏感`。即哪怕原始值只修改了一点点，计算出的哈希值也要大不相同。
3. `散列冲突概率小`。即哈希值重复的概率小，尽量保证唯一性。
4. `执行效率高`。即针对长文本，也能快速计算出哈希值

根据 [抽屉原理](https://baike.baidu.com/item/%E6%8A%BD%E5%B1%89%E5%8E%9F%E7%90%86/233776?fr=aladdin)，由于哈希值的长度固定且有限，能表示的数据也有限，所以对于无限的原始值，无法保证完全没有冲突，但可以尽量减少冲突。

## 二、哈希算法的应用

哈希算法除了在散列表中做 `散列函数` 外，还有很多其他的应用，如：

`安全加密`、`唯一标识`、`数据校验`、`负载均衡`、`数据分片`、`分布式存储` 等

这些应用都是依赖哈希算法的特性实现的。

### 2.1 安全加密

利用哈希算法无法逆运算，且哈希值冲突概率小的特性，可以用来对密码的明文进行单向加密。

常见的哈希算法进行安全加密的算法有：

* `MD5`（Message-Digest Algorithm，消息摘要算法）
* `SHA`（Secure Hash Algorithm，安全散列算法）

另外还有其他的安全加密算法，如：

* `DES`（Data Encryption Standard，数据加密标准），一种单钥加密算法
* `AES`（Advance Encryption Standard，高级加密标准），一种双钥加密算法

`MD5` 加密得到的哈希值，最长为 32 个十六进制位，即 32*4=128 个二进制位，可以表示 2^128 种哈希值。

由于哈希值的范围足够大，从而散列冲突的概率也小了很多，想要破解的难度也更大，但计算上也更耗时。

最常见的 `MD5` 破解是采用字典（用穷举类似），把常用的密码和对应的 `MD5` 加密后的哈希值存起来，再进行查找。

为了解决利用字典破解的问题，可以将明文先按一定规则转换下（即加盐 `salt`），再进行 `MD5` 加密。